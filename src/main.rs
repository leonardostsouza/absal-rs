extern crate absal;

fn main() {
    // Parses the following λ-program:
    //   two = λf. λx. f (f x)
    //   exp = λn. λm. m n
    //   exp two two
    println!("Starting...");
    //let (stats, code) = absal::reduce("/// #f #x /f /f /f x #f #x /f /f /f x #x x #x x");
    //let (stats, code) = absal::reduce("/ #f #x /f /f x #f #x /f /f x");
    let (stats, code) = absal::reduce("//#a /#b /a /b b #b /a /b b #a #b ////b #c #d /#e #f #g #h /f e /d c #c #d /#e #f #g #h /g e /d c #c #d #e #f f a //#a #b ///#c #d /c /c /c /c /c /c d #c #d /c /c d a b /#a /#b /#c /#d /c /d d #d /c /d d #c #d ////d #e #f /#g #h #i #j /h g /f e #e #f /b /#g #h #i #j /h g /f e #e #f #g #h h c //#b /#c /b /c c #c /b /c c #b #c #d /////c #e #f ////f #g #h #i /#j #k #l #m /k j //i h g #g #h #i //#j /#k /j /k k #k /j /k k #j #k #l #m #n ///k m #o /l /j o n /#j #k #l #m /k j //i h g #g #h #i #j #k k e #e #f ////f #g #h #i //#j /#k /j /k k #k /j /k k #j #k #l #m #n ///k m #o /l /j o n /#j #k #l #m /k j //i h g #g #h #i //#j /#k /j /k k #k /j /k k #j #k #l #m #n ///k m #o /l /j o n /#j #k #l #m /l j //i h g #g #h #i #j #k k e #e #f #g #h #i i d b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a #a #b #c c /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a /#a #b #c #d /b a /#a #b #c #d /c a /#a #b #c #d /c a #a #b #c c");
    println!("{:?}", stats);
    println!("{}", code);
}
